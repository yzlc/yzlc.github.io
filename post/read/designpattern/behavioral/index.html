<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="策略模式（Strategy） 定义了算法家族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化，不会影响到使用算法的客户。 优点 以相同的"><title>行为型模式</title><link rel=canonical href=https://yzlc.github.io/post/read/designpattern/behavioral/><link rel=stylesheet href=/scss/style.min.abbd69b2908fdfcd5179898beaafd374514a86538d81639ddd2c58c06ae54e40.css><meta property="og:title" content="行为型模式"><meta property="og:description" content="策略模式（Strategy） 定义了算法家族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化，不会影响到使用算法的客户。 优点 以相同的"><meta property="og:url" content="https://yzlc.github.io/post/read/designpattern/behavioral/"><meta property="og:site_name" content="YZLC"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="设计模式"><meta property="article:published_time" content="2019-07-15T13:32:28+08:00"><meta property="article:modified_time" content="2023-09-25T11:15:53+08:00"><meta name=twitter:title content="行为型模式"><meta name=twitter:description content="策略模式（Strategy） 定义了算法家族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化，不会影响到使用算法的客户。 优点 以相同的"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-154585647-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"))</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_huda2458f72ce188392d75c5d51cd8e24e_373_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>YZLC</a></h1><h2 class=site-description></h2></div></header><ol class=menu id=main-menu><li><a href=/tags/><span>标签</span></a></li><li><a href=/categories/><span>分类</span></a></li><li><a href=/post/web><span>网站大全</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/read/>read</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/read/designpattern/behavioral/>行为型模式</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Jul 15, 2019</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 5 分钟</time></div></footer></div></header><section class=article-content><h2 id=策略模式strategy>策略模式（Strategy）</h2><blockquote><p>定义了算法家族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化，不会影响到使用算法的客户。</p></blockquote><p><img src=/images/read/designPattern/behavioral/strategy.png loading=lazy></p><h3 id=优点>优点</h3><ul><li>以相同的方式调用所有的算法，减少了各种算法类与使用算法类之间的耦合</li><li>Strategy类层次为Context定义了一系列可重用的算法或行为。继承有助于析取出这些算法中的公共功能</li><li>简化了单元测试，因为每个算法都有自己的类，可以通过自己的接口单独测试</li><li>不同的行为堆砌在一个类中时，很难避免使用条件语句来选择合适的行为。将这些行为封装在一个个独立的Strategy类中，可以在使用这些行为的类中消除条件语句</li></ul><h3 id=应用>应用</h3><ul><li>需要在不同时间应用不同的业务规则，就可以考虑使用策略模式处理这种变化的可能性</li><li>选择所用具体实现的职责由客户端对象承担，并转给策略模式的Context对象</li></ul><h2 id=模板方法模式template-method>模板方法模式（Template Method）</h2><blockquote><p>定义一个操作中的算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤</p></blockquote><p><img src=/images/read/designPattern/behavioral/templateMethod.png loading=lazy></p><h3 id=优点-1>优点</h3><ul><li>把不变行为搬移到超类，去除子类中的重复代码</li></ul><h2 id=观察者模式observer>观察者模式（Observer）</h2><blockquote><p>观察者模式定义了一种一对多的依赖关系，让多个观察者对象同时监听某一个主题对象。这个主题对象在状态发生变化时，会通知所有观察者对象，使它们能够自动更新自己</p></blockquote><p><img src=/images/read/designPattern/behavioral/observer.png loading=lazy></p><h3 id=缺点>缺点</h3><ul><li>抽象通知者还是依赖抽象观察者</li><li>通知方法被固定</li></ul><h3 id=事件委托>事件委托</h3><blockquote><p>委托就是一种引用方法的类型。一旦为委托分配了方法，委托将与该方法具有完全相同的行为。委托方法的使用可以像其他任何方法一样，具有参数和返回值。委托可以看作是对函数的抽象，是函数的’类‘，委托的实例将代表一个具体的函数</p></blockquote><p><img src=/images/read/designPattern/behavioral/delegate.png loading=lazy></p><h2 id=状态模式state>状态模式（State）</h2><blockquote><p>当一个对象的内在状态改变时允许改变其行为，这个对象看起来像是改变了其类</p></blockquote><p><img src=/images/read/designPattern/behavioral/state.png loading=lazy></p><h3 id=优点-2>优点</h3><ul><li>将与特定状态相关的行为局部化，并且将不同状态的行为分割开来</li><li>将特定的状态相关的行为都放入一个对象中，由于所有与状态相关的代码都存在于某个ConcreteState中，所以通过定义新的子类可以很容易地增加新的状态和转换，消除庞大的条件分支语句</li><li>状态模式通过把各种状态转移逻辑分布到State的子类之间，来减少相互间的依赖</li></ul><h3 id=应用-1>应用</h3><ul><li>当一个对象的行为取决于它的状态，并且它必须在运行时刻根据状态改变它的行为</li></ul><h2 id=备忘录模式memento>备忘录模式（Memento）</h2><blockquote><p>在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态。这样以后就可将该对象恢复到原先保存的状态</p></blockquote><p><img src=/images/read/designPattern/behavioral/memento.png loading=lazy></p><h3 id=应用-2>应用</h3><ul><li>适用于功能比较复杂的，但需要维护或记录属性历史的类</li></ul><h2 id=命令模式command>命令模式（Command）</h2><blockquote><p>将一个请求封装为一个对象，从而使你可用不同的请求对客户进行参数化；对请求排队或记录请求日志，以及支持可撤销的操作</p></blockquote><p><img src=/images/read/designPattern/behavioral/command.png loading=lazy></p><h3 id=优点-3>优点</h3><ul><li>把请求一个操作的对象与知道怎么执行一个操作的对象分割开</li><li>容易地设计一个命令队列</li><li>容易地将命令记入日志</li><li>允许接受请求的一方决定是否要否决请求</li><li>容易地实现对请求的撤销和重做</li><li>增加新的具体命令类很容易</li></ul><h3 id=应用-3>应用</h3><ul><li>敏捷开发原则告诉我们，不要为代码添加基于猜测的，实际不需要的功能。如果不清楚一个系统是否需要命令模式，一般就不要着急去实现它，事实上，在需要的时候通过重构实现这个模式并不困难，只有在真正需要如撤销/恢复操作等功能时，把原来的代码重构为命令模式才有意义</li></ul><h2 id=迭代器模式iterator>迭代器模式（Iterator）</h2><blockquote><p>提供一种方法顺序访问一个聚合对象中各个元素，而又不是暴露该对象的内部表示</p></blockquote><p><img src=/images/read/designPattern/behavioral/iterator.png loading=lazy></p><h2 id=职责链模式chain-of-responsibility>职责链模式（Chain of Responsibility）</h2><blockquote><p>使多个对象都有机会处理请求，从而避免请求的发送者和接收者之间的耦合关系。将这个对象连成一条链，并沿着这条链传递该请求，直到有一个对象处理它为止</p></blockquote><p><img src=/images/read/designPattern/behavioral/chainofResponsibility.png loading=lazy></p><h3 id=优点-4>优点</h3><ul><li>可简化对象的相互连接，它们仅需保持一个指向其后继者的引用，而不需保持它所有的候选接受者的引用</li><li>可随时地增加或修改处理一个请求的结构。增强了给对象指派职责的灵活性</li></ul><h2 id=中介者模式mediator>中介者模式（Mediator）</h2><blockquote><p>用一个中介对象来封装一系列的对象交互。中介者使各对象不需要显式地相互引用，从而使其耦合松散，而且可以独立地改变它们之间的交互</p></blockquote><p><img src=/images/read/designPattern/behavioral/mediator.png loading=lazy></p><h3 id=优点-5>优点</h3><ul><li>减少了各个Colleague的耦合，使得可以独立地改变和复用各个Colleague类和Mediator</li><li>由于把对象如何协作进行了抽象，将中介作为一个独立的概念并将其封装在一个对象中，这样关注的对象就从对象各自本身的行为转移到它们之间的交互上来，也就是站在一个更宏观的角度去看待系统</li></ul><h3 id=缺点-1>缺点</h3><ul><li>由于ConcreteMediator控制了集中化，于是就把交互复杂性变为了中介者的复杂性，这就使得中介者会变得比任何一个ConcreteColleague都复杂</li></ul><h3 id=应用-4>应用</h3><ul><li>用于一组对象以定义良好但是复杂的方式进行通信的场合</li><li>想定制一个分布在多个类中的行为，而又不想生成太多的子类</li></ul><h2 id=解释器模式interpreter>解释器模式（Interpreter）</h2><blockquote><p>给定一个语言，定义它的文法的一种表示，并定义一个解释器，这个解释器使用该表示来解释语言中的句子</p></blockquote><p><img src=/images/read/designPattern/behavioral/interpreter.png loading=lazy></p><h3 id=应用-5>应用</h3><ul><li>当有一个语言需要解释执行，并且你可将该语言中的句子表示为一个抽象语法树时</li></ul><h3 id=优点-6>优点</h3><ul><li>容易地改变和扩展文化，因为该模式使用类来表示文化规则，可使用继承来改变或扩展该文化。也比较容易实现文化，因为定义抽象语法树中各个节点的类的实现大体类似，这些类都易于直接编写</li></ul><h3 id=缺点-2>缺点</h3><ul><li>为文法中的每一条规则至少定义了一个类，因此包含许多规则的方法可能难以管理和维护。建议当文化非常复杂时，使用其他的技术如语法分析程序或编译器生成器来处理</li></ul><h2 id=访问者模式visitor>访问者模式（Visitor）</h2><blockquote><p>表示一个作用于某对象结构中的各元素的操作。它使你可以在不改变各元素的类的前提下定义作用于这些元素的新操作</p></blockquote><p><img src=/images/read/designPattern/behavioral/visitor.png loading=lazy></p></section><footer class=article-footer><section class=article-tags><a href=/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/>设计模式</a></section><section class=article-lastmod><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><span>最后更新于 Sep 25, 2023 11:15 +0800</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/post/read/designpattern/structural/><div class=article-details><h2 class=article-title>结构型模式</h2></div></a></article><article><a href=/post/read/designpattern/creational/><div class=article-details><h2 class=article-title>创建型模式</h2></div></a></article><article><a href=/post/read/designpattern/designpattern/><div class=article-details><h2 class=article-title>设计模式</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 YZLC</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.20.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>